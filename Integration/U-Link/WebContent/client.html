<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   
    <title>Client</title>

    <link href="css/bootstrap.min.css" rel="stylesheet">
    
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    
    <style>
    input[type="radio"]{
	  margin: 0 5px 0 5px;
	}

    </style>
    
    <script> 
	    $(function(){
	      $("#includedContent").load("navBar.html"); 
	    });
    </script> 

	
	
 
 <script type="text/javascript">
 
	$(document).ready(function() {
		displayUsers("A");
		$('input[name=name]').click(function() {
		    var firstChar = $('input[name=name]:checked').val();
		    displayUsers(firstChar);
		});
			
		
	} );
	
 function displayUsers(firstChar){
		var table = "<table id='table' class='table table-hover' cellspacing='0'>";
		 $.ajax({
		    	url: "DisplayAllClient",
				type: "get",
			    data:'firstChar=' + firstChar,
			    dataType: "json",
			    complete: function(data){
			    	var json = jQuery.parseJSON(data.responseText);
	    			 table += "<thead>"
				    	   +"<th>Client Name</th>"			    	
				    	   +"<th>"
				    		+"<select onchange='jsFunction1(value)' id='type'>"
						    	+"<option value='Company' onclick='if (!document.getElementById('searchInput').onchange()) mySearch();'>Company</option>"
						    	+"<option value='Employee'>Employee</option>"
						    	+"<option value='Individual'>Individual</option>"
						    	+"<option value='' selected='selected' >All Client Type</option>"
				    		 +"</select>"
					    	+"</th>"
					    	+"<th width=30% >"
			    			 +"<select class='team' onchange='jsFunction2(value)' id='team'>"
						    	+"<option value='Visa'>Visa</option>"
						    	+"<option value='Medical'>Medical</option>"
							    +"<option value='' selected='selected'>Team</option>"		    	
	    					 +"</select>"
			    			+"</th>"
		    			+"</thead>"
			    			
			    			+"<tbody>"
		    	$.each(json, function(i, item){
					table 	+= "<tr>"
								+"<td>"
									+ "<a href='#' onClick=directToClientProfile(this.id) id= '"
				    				+ item.clientName
				    				+ "'>"+item.clientName +"</a>"
	    						+ "</td>"
	    						+ "<td width=30%>"
	    							+ item.clientType
	    						+ "</td>"
		    					+ "<td>"
		    						+ item.medical
		    					+ "</td>"
	    					+ "</tr>"
	    					
				});
		    	table += "</tbody></table>"
		    	$("#display").html(table);				    	
			    }	
	    	});
		
		
	}
 
		function jsFunction1(value){
			   // set search box value as client type
			   var txt =  document.getElementById('myInput');
			   txt.value = value;
			   document.getElementById('team').value = '';
			   mySearch();
		}
		
		function jsFunction2(value){
			   // set search box value as Team
			   var txt =  document.getElementById('myInput');
			   txt.value = value;
			   document.getElementById('type').value = '';
			   mySearch();
			  
		}

		function mySearch() {  
		var input, filter, found, table, tr, td, i, j;
	    input = document.getElementById("myInput");
	    filter = input.value.toUpperCase();
	    table = document.getElementById("table");
	    tr = table.getElementsByTagName("tr");
	    for (i = 1; i < tr.length; i++) {
	        td = tr[i].getElementsByTagName("td");
	        for (j = 0; j < td.length; j++) {
	            if (td[j].innerHTML.toUpperCase().indexOf(filter) > -1) {
	                found = true;
	            }
	        }
	        if (found) {
	            tr[i].style.display = "";
	            found = false;
	        } else {
	            tr[i].style.display = "none";
	        }
	    }
			}

		function directToClientProfile(clickedID){
			var sendData = {
					"clientName" : clickedID
				};
				$.ajax({
					url : "DisplayAllClientByName2",
					type : "post",
					data : sendData,
					dataType : "json",
					complete : function(data) {
						//displayAll();							
							window.location="clientInfo.html";						
					}
				});
		}
			
		

		function displayAll() {
			var table = "<table id='table' class=' table-hover'>";
			var isEmpty = false;
			$.ajax({
				url: "DisplayAllClient",
				type: "get",
			    dataType : "json",
			    complete: function(data){
			    	var json = jQuery.parseJSON(data.responseText);
	    					
				    table += "<thead>"
					    	   +"<th>Client Name</th>"			    	
					    	   +"<th>"
					    		+"<select onchange='jsFunction1(value)' id='type'>"
							    	+"<option value='Company' onclick='if (!document.getElementById('searchInput').onchange()) mySearch();'>Company</option>"
							    	+"<option value='Employee'>Employee</option>"
							    	+"<option value='Individual'>Individual</option>"
							    	+"<option value='' selected='selected' >All Client Type</option>"
					    		 +"</select>"
						    	+"</th>"
						    	+"<th width=30% >"
				    			 +"<select class='team' onchange='jsFunction2(value)' id='team'>"
							    	+"<option value='Visa'>Visa</option>"
							    	+"<option value='Medical'>Medical</option>"
								    +"<option value='' selected='selected'>Team</option>"		    	
		    					 +"</select>"
				    			+"</th>"
			    			+"</thead>"
				    			
				    			+"<tbody>"
			    	$.each(json, function(i, item){
						table 	+= "<tr>"
									+"<td>"
										+ "<a href='#' onClick=directToClientProfile(this.id) id= '"
					    				+ item.clientName
					    				+ "'>"+item.clientName +"</a>"
		    						+ "</td>"
		    						+ "<td width=30%>"
		    							+ item.clientType
		    						+ "</td>"
			    					+ "<td>"
			    						+ item.medical
			    					+ "</td>"
		    					+ "</tr>"
		    					
					});
			    	table += "</tbody></table>"
			    	$("#display").html(table);				    	
			    }				    
			});			
		}
		
		
	  
	</script>
 
  </head>
  
  <body>
  
  	<div id="includedContent"></div>
	<div class="container">
      <div class="container-fluid">

			 <!-- Page Heading -->
                <div class="row">
                    <div class="col-lg-12" align="center">
                        <h1 class="page-header">
                            <b>Client List</b> 
                        </h1>
                        
                    </div>
                </div>

				<div class="row" align="center">
					<div class="inline">
                  <input type="radio" id="letter" name="name" value="A" /> A 	
				  <input type="radio" id="letter" name="name" value="B" /> B
				  <input type="radio" id="letter" name="name" value="C" /> C 
				  <input type="radio" id="letter" name="name" value="D" /> D
				  <input type="radio" id="letter" name="name" value="E" /> E
				  <input type="radio" id="letter" name="name" value="F" /> F 
				  <input type="radio" id="letter" name="name" value="G" /> G 
				  <input type="radio" id="letter" name="name" value="H" /> H 
				  <input type="radio" id="letter" name="name" value="I" /> I 
				  <input type="radio" id="letter" name="name" value="J" /> J 
				  <input type="radio" id="letter" name="name" value="K" /> K 
				  <input type="radio" id="letter" name="name" value="L" /> L 
				  <input type="radio" id="letter" name="name" value="M" /> M 
				  <input type="radio" id="letter" name="name" value="N" /> N 
				  <input type="radio" id="letter" name="name" value="O" /> O 
				  <input type="radio" id="letter" name="name" value="P" /> P 
				  <input type="radio" id="letter" name="name" value="Q" /> Q 
				  <input type="radio" id="letter" name="name" value="R" /> R 
				  <input type="radio" id="letter" name="name" value="S" /> S 
				  <input type="radio" id="letter" name="name" value="T" /> T 
				  <input type="radio" id="letter" name="name" value="U" /> U 
				  <input type="radio" id="letter" name="name" value="V" /> V 
				  <input type="radio" id="letter" name="name" value="W" /> W 
				  <input type="radio" id="letter" name="name" value="X" /> X 
				  <input type="radio" id="letter" name="name" value="Y" /> Y 
				  <input type="radio" id="letter" name="name" value="Z" /> Z 
				 
				  
				  <input id="myInput" onkeyup="mySearch()" placeholder="Search" name="search"></div>
		        
		         </div>
					<br>
					<br>
					
									
				<div id="display" class="container" ></div>         
		         
			</div>
            <!-- /.container-fluid -->
	</div>
  </body>
</html>
