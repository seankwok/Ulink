<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Timeline - Summary</title>


<link href="css/bootstrap.min.css" rel="stylesheet">
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="js/jquery-1.12.0.js"></script>
<script src="js/bootstrap.min.js"></script>

<script type="text/javascript">
	$(document).ready(function() {

		displayAll();
	});
	

	function deleteItem(clickedID){
		var sendData = {
				"conditionName" : clickedID
			};
			console.log(clickedID);
			$.ajax({
				url : "DeleteCondition",
				type : "post",
				data : sendData,
				dataType : "json",
				success : function(data) {

					displayAll();
					$("#message").html("Task completed");
					$("#message").css("color", "green");
				}

			});
    } 
	
	function editItem(clickedID){
		var sendData = {
				"conditionName" : clickedID
			};
			console.log(clickedID);
			$.ajax({
				url : "EditCondition",
				type : "post",
				data : sendData,
				dataType : "json",
				success : function(data) {

					displayAll();
					$("#message").html("Task completed");
					$("#message").css("color", "green");
				}

			});
    } 
	
	function displayAll() {
		var timeline = "<tr><th>Age range</th><th>Common illnesses</th><th>Recommended screenings</th><th>Type</th><th>Frequency(Years)</th><th>Action</th><th></th></tr>"
		var completedTask;
		var isEmpty = false;
		var completeIsEmpty = false;
		$
				.ajax({
					url : "DisplayAll",
					type : "GET",
					dataType : "json",
					success : function(data) {

						var json = jQuery.parseJSON(JSON.stringify(data));
						console.log(json);
						$
								.each(
										json,
										function(key, value) {
											//	$('#toDoID').append($('<div></div>').html());
											//  var list = $('<ul></ul>');

									
												timeline += '<tr>'

														+ '<td>'
														+ value.ageRequired
														+ '</td>'
														+ '<td>'
														+ value.conditionName
														+ '</td>'
														+ '<td>'
														+ value.screening
														+ '</td>'
														+ '<td>'
														+ value.type
														+ '</td>'
														+ '<td>'
														+ value.years
														+ '</td>'									
														+ '<td><a href="editTimelineSummary.html" onClick=editItem(this.id) id="'
														+ value.conditionName
														+ '">Edit</a></td>'
														+ '<td><a href=# onClick=deleteItem(this.id) id="'
														+ value.conditionName
														+ '">Delete</a></td></tr>';

												isEmpty = true;
											


										});
						//	$('#toDoList').append(toDoList);
					
							$("#timeline").html(timeline);
					

						//(toDoList);
					}
				});
		//
		//return data;

	}
</script>

</head>
<body>

	<nav class="navbar navbar-default">
		<div class="container-fluid">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed"
					data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"
					aria-expanded="false">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#">Ulink Assist</a>
			</div>

			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse"
				id="bs-example-navbar-collapse-1">
				<ul class="nav navbar-nav">
					<li><a href="index.html">Home</a></li>
					<li class="dropdown">
         			 <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Client <span class="caret"></span></a>
			         <ul class="dropdown-menu">
			            <li><a href="client.html">Client List</a></li>
			            <li><a href="createClient.html">Create New Client</a></li>
			          </ul>
			        </li> 
			        <li><a href="#">Cases</a></li>
					<li><a href="#">Invoice</a></li>
					<li><a href="#">Services</a></li>
					<li><a href="#">Report</a></li>
					<li><a href="#">Doctor</a></li>
					<li class="dropdown"><a href="#" class="dropdown-toggle"
						data-toggle="dropdown" role="button" aria-haspopup="true"
						aria-expanded="false">Timeline <span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li><a href="infant.html">Infant</a></li>
							<li><a href="female.html">Female</a></li>
							<li><a href="male.html">Male</a></li>
						</ul></li>

					<li class="dropdown"><a href="#" class="dropdown-toggle"
						data-toggle="dropdown" role="button" aria-haspopup="true"
						aria-expanded="false">Analysis <span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li><a href="kpi.html">KPI</a></li>
							<li><a href="ranking.html">Ranking</a></li>
							<li><a href="genderAndAgeReport.html">Gender and Age Report</a></li>
						</ul></li>
					<li><a href="#">Template</a></li>


				</ul>
				<form class="navbar-form navbar-right">
					<div class="form-group">
						<input type="text" class="form-control" placeholder="Search">
					</div>
					<button type="submit" class="btn btn-default">Submit</button>
				</form>
				<ul class="nav navbar-nav navbar-right">
					<li><a href="#">Logout</a></li>

				</ul>
			</div>
			<!-- /.navbar-collapse -->
		</div>
		<!-- /.container-fluid -->
	</nav>


	<div class="page-header">
		<h1 align="center">Timeline - Summary</h1>
	</div>

	<div class="container">
   
    <div class="btn-group" style="float:right">
      <a href="addNewScreenings.html"><button type="button" class="btn btn-default">Add New Screening</button></a>
    </div>
    
    </div>
		<div class="container">

		<table class="table table-striped" id="timeline">
		
		</table>
</div>







</body>
</html>